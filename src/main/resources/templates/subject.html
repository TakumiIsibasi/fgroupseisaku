<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>科目情報登録</title>
</head>
<body>
<h1>科目情報登録</h1>
<form class="form py-4 needs-validation h-adr" method="post" th:action="@{/subject}" th:object="${subject}">

    <div class="row mt-3">
        <label for="cd" class="col-4 col-form-label text-end">科目コード</label>
        <div class="col-4">
            <input type="text" class="form-control" id="cd" name="cd" th:classappend="${#fields.hasErrors('cd')} ? 'is-invalid' : 'is-valid'" th:field="*{cd}" required/>
            <div th:if="${#fields.hasErrors('cd')}" th:errors="*{cd}" class="invalid-feedback">
                <span th:unless="${#fields.errors('cd').contains('duplicate.subject.code')}">
					入力値が無効です。</span>
            </div>
        </div>
    </div>
    
    <div class="row mt-3">
        <label for="subject_name" class="col-4 col-form-label text-end">科目名</label>
        <div class="col-4">
            <input type="text" class="form-control" id="subject_name" name="subject_name" th:classappend="${#fields.hasErrors('subject_name')} ? 'is-invalid' : 'is-valid'" th:field="*{subject_name}" required/>
            <div th:if="${#fields.hasErrors('subject_name')}" th:errors="*{subject_name}" class="invalid-feedback">
                入力値が無効です。</div>
        </div>
    </div>
    
    <!-- 学校コードを非表示の隠しフィールドで送信 -->
    <input type="hidden" id="school_cd" name="school_cd" value="fko">
    
    <input type="submit" class="btn btn-primary" value="登録"/>
</form>
<a href="/subjectlist">戻る</a>
</body>
</html>
